{"version":3,"file":"Batch-UFfl4NY5.js","sources":["../../../../node_modules/lucide-vue-next/dist/esm/icons/contact-2.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/info.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/laptop.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/layout-dashboard.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/mail.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/message-circle.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/monitor.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/send.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/trash-2.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/user-round-cog.js","../../../../node_modules/lucide-vue-next/dist/esm/icons/video.js","../../../../frontend/src/components/Modals/EvaluationModal.vue","../../../../frontend/src/components/UpcomingEvaluations.vue","../../../../frontend/src/components/Assessments.vue","../../../../frontend/src/components/Modals/LiveClassModal.vue","../../../../frontend/src/components/LiveClass.vue","../../../../frontend/src/components/Modals/StudentModal.vue","../../../../frontend/src/components/BatchStudents.vue","../../../../frontend/src/components/Annoucements.vue","../../../../frontend/src/components/Modals/AnnouncementModal.vue","../../../../frontend/src/pages/Batch.vue"],"sourcesContent":["/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Contact2 = createLucideIcon(\"Contact2Icon\", [\n  [\"path\", { d: \"M16 18a4 4 0 0 0-8 0\", key: \"1lzouq\" }],\n  [\"circle\", { cx: \"12\", cy: \"11\", r: \"3\", key: \"itu57m\" }],\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"4\", rx: \"2\", key: \"1hopcy\" }],\n  [\"line\", { x1: \"8\", x2: \"8\", y1: \"2\", y2: \"4\", key: \"1ff9gb\" }],\n  [\"line\", { x1: \"16\", x2: \"16\", y1: \"2\", y2: \"4\", key: \"1ufoma\" }]\n]);\n\nexport { Contact2 as default };\n//# sourceMappingURL=contact-2.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Info = createLucideIcon(\"InfoIcon\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Laptop = createLucideIcon(\"LaptopIcon\", [\n  [\n    \"path\",\n    {\n      d: \"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16\",\n      key: \"tarvll\"\n    }\n  ]\n]);\n\nexport { Laptop as default };\n//# sourceMappingURL=laptop.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst LayoutDashboard = createLucideIcon(\"LayoutDashboardIcon\", [\n  [\"rect\", { width: \"7\", height: \"9\", x: \"3\", y: \"3\", rx: \"1\", key: \"10lvy0\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"14\", y: \"3\", rx: \"1\", key: \"16une8\" }],\n  [\"rect\", { width: \"7\", height: \"9\", x: \"14\", y: \"12\", rx: \"1\", key: \"1hutg5\" }],\n  [\"rect\", { width: \"7\", height: \"5\", x: \"3\", y: \"16\", rx: \"1\", key: \"ldoo1y\" }]\n]);\n\nexport { LayoutDashboard as default };\n//# sourceMappingURL=layout-dashboard.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Mail = createLucideIcon(\"MailIcon\", [\n  [\"rect\", { width: \"20\", height: \"16\", x: \"2\", y: \"4\", rx: \"2\", key: \"18n3k1\" }],\n  [\"path\", { d: \"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\", key: \"1ocrg3\" }]\n]);\n\nexport { Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst MessageCircle = createLucideIcon(\"MessageCircleIcon\", [\n  [\"path\", { d: \"M7.9 20A9 9 0 1 0 4 16.1L2 22Z\", key: \"vv11sd\" }]\n]);\n\nexport { MessageCircle as default };\n//# sourceMappingURL=message-circle.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Monitor = createLucideIcon(\"MonitorIcon\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"3\", rx: \"2\", key: \"48i651\" }],\n  [\"line\", { x1: \"8\", x2: \"16\", y1: \"21\", y2: \"21\", key: \"1svkeh\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"17\", y2: \"21\", key: \"vw1qmm\" }]\n]);\n\nexport { Monitor as default };\n//# sourceMappingURL=monitor.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Send = createLucideIcon(\"SendIcon\", [\n  [\"path\", { d: \"m22 2-7 20-4-9-9-4Z\", key: \"1q3vgg\" }],\n  [\"path\", { d: \"M22 2 11 13\", key: \"nzbqef\" }]\n]);\n\nexport { Send as default };\n//# sourceMappingURL=send.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Trash2 = createLucideIcon(\"Trash2Icon\", [\n  [\"path\", { d: \"M3 6h18\", key: \"d0wm0j\" }],\n  [\"path\", { d: \"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6\", key: \"4alrt4\" }],\n  [\"path\", { d: \"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2\", key: \"v07s0e\" }],\n  [\"line\", { x1: \"10\", x2: \"10\", y1: \"11\", y2: \"17\", key: \"1uufr5\" }],\n  [\"line\", { x1: \"14\", x2: \"14\", y1: \"11\", y2: \"17\", key: \"xtxkd\" }]\n]);\n\nexport { Trash2 as default };\n//# sourceMappingURL=trash-2.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst UserRoundCog = createLucideIcon(\"UserRoundCogIcon\", [\n  [\"path\", { d: \"M2 21a8 8 0 0 1 10.434-7.62\", key: \"1yezr2\" }],\n  [\"circle\", { cx: \"10\", cy: \"8\", r: \"5\", key: \"o932ke\" }],\n  [\"circle\", { cx: \"18\", cy: \"18\", r: \"3\", key: \"1xkwt0\" }],\n  [\"path\", { d: \"m19.5 14.3-.4.9\", key: \"1eb35c\" }],\n  [\"path\", { d: \"m16.9 20.8-.4.9\", key: \"dfjc4z\" }],\n  [\"path\", { d: \"m21.7 19.5-.9-.4\", key: \"q4dx6b\" }],\n  [\"path\", { d: \"m15.2 16.9-.9-.4\", key: \"1r0w5f\" }],\n  [\"path\", { d: \"m21.7 16.5-.9.4\", key: \"1knoei\" }],\n  [\"path\", { d: \"m15.2 19.1-.9.4\", key: \"j188fs\" }],\n  [\"path\", { d: \"m19.5 21.7-.4-.9\", key: \"1tonu5\" }],\n  [\"path\", { d: \"m16.9 15.2-.4-.9\", key: \"699xu\" }]\n]);\n\nexport { UserRoundCog as default };\n//# sourceMappingURL=user-round-cog.js.map\n","/**\n * @license lucide-vue-next v0.309.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Video = createLucideIcon(\"VideoIcon\", [\n  [\"path\", { d: \"m22 8-6 4 6 4V8Z\", key: \"50v9me\" }],\n  [\"rect\", { width: \"14\", height: \"12\", x: \"2\", y: \"6\", rx: \"2\", ry: \"2\", key: \"1rqjg6\" }]\n]);\n\nexport { Video as default };\n//# sourceMappingURL=video.js.map\n","<template>\n\t<Dialog\n\t\tv-model=\"show\"\n\t\t:options=\"{\n\t\t\ttitle: __('Schedule Evaluation'),\n\t\t\tsize: 'xl',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: __('Submit'),\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: (close) => submitEvaluation(close),\n\t\t\t\t},\n\t\t\t],\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div class=\"flex flex-col gap-4\">\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t{{ __('Course') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Select v-model=\"evaluation.course\" :options=\"getCourses()\" />\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t{{ __('Date') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<DatePicker v-model=\"evaluation.date\" />\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"slots.data\">\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t{{ __('Select a slot') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"grid grid-cols-2 gap-2\">\n\t\t\t\t\t\t<div v-for=\"slot in slots.data\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclass=\"text-base text-center border rounded-md bg-gray-200 p-2 cursor-pointer\"\n\t\t\t\t\t\t\t\t@click=\"saveSlot(slot)\"\n\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t'border-gray-900': evaluation.start_time == slot.start_time,\n\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ formatTime(slot.start_time) }} -\n\t\t\t\t\t\t\t\t{{ formatTime(slot.end_time) }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup>\nimport { Dialog, createResource, Select, DatePicker } from 'frappe-ui'\nimport { defineModel, reactive, watch, inject } from 'vue'\nimport { createToast, formatTime } from '@/utils/'\n\nconst user = inject('$user')\nconst dayjs = inject('$dayjs')\nconst show = defineModel()\nconst evaluations = defineModel('reloadEvals')\n\nconst props = defineProps({\n\tcourses: {\n\t\ttype: Array,\n\t\tdefault: [],\n\t},\n\tbatch: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n\tendDate: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n})\n\nlet evaluation = reactive({\n\tcourse: '',\n\tdate: '',\n\tstart_time: '',\n\tend_time: '',\n\tday: '',\n\tbatch: props.batch,\n\tmember: user.data.name,\n})\n\nconst createEvaluation = createResource({\n\turl: 'frappe.client.insert',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoc: {\n\t\t\t\tdoctype: 'LMS Certificate Request',\n\t\t\t\tbatch_name: values.batch,\n\t\t\t\t...values,\n\t\t\t},\n\t\t}\n\t},\n})\n\nfunction submitEvaluation(close) {\n\tcreateEvaluation.submit(evaluation, {\n\t\tvalidate() {\n\t\t\tif (!evaluation.course) {\n\t\t\t\treturn 'Please select a course.'\n\t\t\t}\n\t\t\tif (!evaluation.date) {\n\t\t\t\treturn 'Please select a date.'\n\t\t\t}\n\t\t\tif (!evaluation.start_time) {\n\t\t\t\treturn 'Please select a slot.'\n\t\t\t}\n\t\t\tif (dayjs(evaluation.date).isSameOrBefore(dayjs(), 'day')) {\n\t\t\t\treturn 'Please select a future date.'\n\t\t\t}\n\t\t\tif (dayjs(evaluation.date).isAfter(dayjs(props.endDate), 'day')) {\n\t\t\t\treturn `Please select a date before the end date ${dayjs(\n\t\t\t\t\tprops.endDate\n\t\t\t\t).format('DD MMMM YYYY')}.`\n\t\t\t}\n\t\t},\n\t\tonSuccess() {\n\t\t\tevaluations.value.reload()\n\t\t\tclose()\n\t\t},\n\t\tonError(err) {\n\t\t\tcreateToast({\n\t\t\t\ttitle: 'Error',\n\t\t\t\ttext: err.messages?.[0] || err,\n\t\t\t\ticon: 'x',\n\t\t\t\ticonClasses: 'bg-red-600 text-white rounded-md p-px',\n\t\t\t\tposition: 'top-center',\n\t\t\t\ttimeout: 10,\n\t\t\t})\n\t\t},\n\t})\n}\n\nconst getCourses = () => {\n\tlet courses = []\n\tfor (const course of props.courses) {\n\t\tcourses.push({\n\t\t\tlabel: course.title,\n\t\t\tvalue: course.course,\n\t\t})\n\t}\n\treturn courses\n}\n\nconst slots = createResource({\n\turl: 'lms.lms.doctype.course_evaluator.course_evaluator.get_schedule',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tcourse: values.course,\n\t\t\tdate: values.date,\n\t\t\tbatch: props.batch,\n\t\t}\n\t},\n})\n\nwatch(\n\t() => evaluation.date,\n\t(date) => {\n\t\tevaluation.start_time = ''\n\t\tif (date) {\n\t\t\tslots.submit(evaluation)\n\t\t}\n\t}\n)\n\nwatch(\n\t() => evaluation.course,\n\t(course) => {\n\t\tevaluation.date = ''\n\t\tevaluation.start_time = ''\n\t\tslots.reset()\n\t}\n)\n\nconst saveSlot = (slot) => {\n\tevaluation.start_time = slot.start_time\n\tevaluation.end_time = slot.end_time\n\tevaluation.day = slot.day\n}\n</script>\n","<template>\n\t<div class=\"mb-10\">\n\t\t<Button v-if=\"isStudent\" @click=\"openEvalModal\" class=\"float-right\">\n\t\t\t{{ __('Schedule Evaluation') }}\n\t\t</Button>\n\t\t<div class=\"text-lg font-semibold mb-4\">\n\t\t\t{{ __('Upcoming Evaluations') }}\n\t\t</div>\n\t\t<div v-if=\"upcoming_evals.data?.length\">\n\t\t\t<div class=\"grid grid-cols-2 gap-4\">\n\t\t\t\t<div v-for=\"evl in upcoming_evals.data\">\n\t\t\t\t\t<div class=\"border rounded-md p-3\">\n\t\t\t\t\t\t<div class=\"font-semibold mb-3\">\n\t\t\t\t\t\t\t{{ evl.course_title }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t\t\t\t<Calendar class=\"w-4 h-4 stroke-1.5\" />\n\t\t\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t\t\t{{ dayjs(evl.date).format('DD MMMM YYYY') }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t\t\t\t<Clock class=\"w-4 h-4 stroke-1.5\" />\n\t\t\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t\t\t{{ formatTime(evl.start_time) }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t\t<UserCog2 class=\"w-4 h-4 stroke-1.5\" />\n\t\t\t\t\t\t\t<span class=\"ml-2 font-medium\">\n\t\t\t\t\t\t\t\t{{ evl.evaluator_name }}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else class=\"text-sm italic text-gray-600\">\n\t\t\t{{ __('No upcoming evaluations.') }}\n\t\t</div>\n\t</div>\n\t<EvaluationModal\n\t\t:batch=\"batch\"\n\t\t:endDate=\"endDate\"\n\t\t:courses=\"courses\"\n\t\tv-model=\"showEvalModal\"\n\t\tv-model:reloadEvals=\"upcoming_evals\"\n\t/>\n</template>\n<script setup>\nimport { Calendar, Clock, UserCog2 } from 'lucide-vue-next'\nimport { inject, ref } from 'vue'\nimport { formatTime } from '../utils'\nimport { Button, createResource } from 'frappe-ui'\nimport EvaluationModal from '@/components/Modals/EvaluationModal.vue'\n\nconst dayjs = inject('$dayjs')\nconst user = inject('$user')\nconst showEvalModal = ref(false)\n\nconst props = defineProps({\n\tbatch: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n\tcourses: {\n\t\ttype: Array,\n\t\tdefault: [],\n\t},\n\tisStudent: {\n\t\ttype: Boolean,\n\t\tdefault: false,\n\t},\n\tendDate: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n})\n\nconst upcoming_evals = createResource({\n\turl: 'lms.lms.utils.get_upcoming_evals',\n\tcache: ['upcoming_evals', user.data.name],\n\tparams: {\n\t\tstudent: user.data.name,\n\t\tcourses: props.courses.map((course) => course.course),\n\t},\n\tauto: true,\n})\n\nfunction openEvalModal() {\n\tshowEvalModal.value = true\n}\n</script>\n","<template>\n\t<div>\n\t\t<div class=\"text-lg font-semibold mb-4\">\n\t\t\t{{ __('Assessments') }}\n\t\t</div>\n\t\t<div v-if=\"assessments.data?.length\">\n\t\t\t<ListView\n\t\t\t\t:columns=\"getAssessmentColumns()\"\n\t\t\t\t:rows=\"assessments.data\"\n\t\t\t\trow-key=\"name\"\n\t\t\t\t:options=\"{ selectable: false, showTooltip: false }\"\n\t\t\t>\n\t\t\t</ListView>\n\t\t</div>\n\t\t<div v-else class=\"text-sm italic text-gray-600\">\n\t\t\t{{ __('No Assessments') }}\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { ListView, createResource } from 'frappe-ui'\nimport { inject } from 'vue'\n\nconst user = inject('$user')\n\nconst props = defineProps({\n\tbatch: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\trows: {\n\t\ttype: Array,\n\t},\n\tcolumns: {\n\t\ttype: Array,\n\t},\n\toptions: {\n\t\ttype: Object,\n\t\tdefault: () => ({\n\t\t\tselectable: true,\n\t\t\ttotalCount: 0,\n\t\t\trowCount: 0,\n\t\t}),\n\t},\n})\n\nconst assessments = createResource({\n\turl: 'lms.lms.utils.get_assessments',\n\tparams: {\n\t\tbatch: props.batch,\n\t},\n\tauto: true,\n})\n\nconst getAssessmentColumns = () => {\n\tlet columns = [\n\t\t{\n\t\t\tlabel: 'Assessment',\n\t\t\tkey: 'title',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Type',\n\t\t\tkey: 'assessment_type',\n\t\t},\n\t]\n\n\tif (!user.data?.is_moderator) {\n\t\tcolumns.push({\n\t\t\tlabel: 'Status/Score',\n\t\t\tkey: 'status',\n\t\t\talign: 'center',\n\t\t})\n\t}\n\treturn columns\n}\n</script>\n","<template>\n\t<Dialog\n\t\tv-model=\"show\"\n\t\t:options=\"{\n\t\t\ttitle: __('Create a Live Class'),\n\t\t\tsize: 'xl',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Submit',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: (close) => submitLiveClass(close),\n\t\t\t\t},\n\t\t\t],\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div class=\"flex flex-col gap-4\">\n\t\t\t\t<div class=\"grid grid-cols-2 gap-4\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t{{ __('Title') }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Input type=\"text\" v-model=\"liveClass.title\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center\"\n\t\t\t\t\t\t\t\t\t:text=\"\n\t\t\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t\t\t'Time must be in 24 hour format (HH:mm). Example 11:30 or 22:00'\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{{ __('Time') }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<Info class=\"stroke-2 w-3 h-3 ml-1\" />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Input v-model=\"liveClass.time\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t{{ __('Timezone') }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tv-model=\"liveClass.timezone\"\n\t\t\t\t\t\t\t\t:options=\"getTimezoneOptions()\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t{{ __('Date') }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<DatePicker v-model=\"liveClass.date\" inputClass=\"w-full\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\tclass=\"flex items-center\"\n\t\t\t\t\t\t\t\t\t:text=\"__('Duration of the live class in minutes')\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t\t{{ __('Duration') }}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<Info class=\"stroke-2 w-3 h-3 ml-1\" />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Input type=\"number\" v-model=\"liveClass.duration\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t\t\t{{ __('Auto Recording') }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\tv-model=\"liveClass.auto_recording\"\n\t\t\t\t\t\t\t\t:options=\"getRecordingOptions()\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t{{ __('Description') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Textarea v-model=\"liveClass.description\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup>\nimport {\n\tInput,\n\tDatePicker,\n\tSelect,\n\tTextarea,\n\tDialog,\n\tcreateResource,\n\tTooltip,\n} from 'frappe-ui'\nimport { reactive, inject } from 'vue'\nimport { getTimezones, createToast } from '@/utils/'\nimport { Info } from 'lucide-vue-next'\n\nconst liveClasses = defineModel('reloadLiveClasses')\nconst show = defineModel()\nconst user = inject('$user')\nconst dayjs = inject('$dayjs')\n\nconst props = defineProps({\n\tbatch: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n})\n\nlet liveClass = reactive({\n\ttitle: '',\n\tdescription: '',\n\tdate: '',\n\ttime: '',\n\tduration: '',\n\ttimezone: '',\n\tauto_recording: 'No Recording',\n\tbatch: props.batch,\n\thost: user.data.name,\n})\n\nconst getTimezoneOptions = () => {\n\treturn getTimezones().map((timezone) => {\n\t\treturn {\n\t\t\tlabel: timezone,\n\t\t\tvalue: timezone,\n\t\t}\n\t})\n}\n\nconst getRecordingOptions = () => {\n\treturn [\n\t\t{\n\t\t\tlabel: 'No Recording',\n\t\t\tvalue: 'No Recording',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Local',\n\t\t\tvalue: 'Local',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Cloud',\n\t\t\tvalue: 'Cloud',\n\t\t},\n\t]\n}\n\nconst createLiveClass = createResource({\n\turl: 'lms.lms.doctype.lms_batch.lms_batch.create_live_class',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'LMS Live Class',\n\t\t\tbatch_name: values.batch,\n\t\t\t...values,\n\t\t}\n\t},\n})\n\nconst submitLiveClass = (close) => {\n\tcreateLiveClass.submit(liveClass, {\n\t\tvalidate() {\n\t\t\tif (!liveClass.title) {\n\t\t\t\treturn 'Please enter a title.'\n\t\t\t}\n\t\t\tif (!liveClass.date) {\n\t\t\t\treturn 'Please select a date.'\n\t\t\t}\n\t\t\tif (dayjs(liveClass.date).isSameOrBefore(dayjs(), 'day')) {\n\t\t\t\treturn 'Please select a future date.'\n\t\t\t}\n\t\t\tif (!liveClass.time) {\n\t\t\t\treturn 'Please select a time.'\n\t\t\t}\n\t\t\tif (!valideTime()) {\n\t\t\t\treturn 'Please enter a valid time in the format HH:mm.'\n\t\t\t}\n\t\t\tif (!liveClass.duration) {\n\t\t\t\treturn 'Please select a duration.'\n\t\t\t}\n\t\t\tif (!liveClass.timezone) {\n\t\t\t\treturn 'Please select a timezone.'\n\t\t\t}\n\t\t},\n\t\tonSuccess() {\n\t\t\tliveClasses.value.reload()\n\t\t\tclose()\n\t\t},\n\t\tonError(err) {\n\t\t\tcreateToast({\n\t\t\t\ttitle: 'Error',\n\t\t\t\ttext: err.messages?.[0] || err,\n\t\t\t\ticon: 'x',\n\t\t\t\ticonClasses: 'bg-red-600 text-white rounded-md p-px',\n\t\t\t\tposition: 'top-center',\n\t\t\t\ttimeout: 10,\n\t\t\t})\n\t\t},\n\t})\n}\n\nconst valideTime = () => {\n\tlet time = liveClass.time.split(':')\n\tif (time.length != 2) {\n\t\treturn false\n\t}\n\tif (time[0] < 0 || time[0] > 23) {\n\t\treturn false\n\t}\n\tif (time[1] < 0 || time[1] > 59) {\n\t\treturn false\n\t}\n\treturn true\n}\n</script>\n","<template>\n\t<Button\n\t\tv-if=\"user.data.is_moderator\"\n\t\tvariant=\"solid\"\n\t\tclass=\"float-right mb-3\"\n\t\t@click=\"openLiveClassModal\"\n\t>\n\t\t<template #prefix>\n\t\t\t<Plus class=\"h-4 w-4\" />\n\t\t</template>\n\t\t<span>\n\t\t\t{{ __('Create') }}\n\t\t</span>\n\t</Button>\n\t<div class=\"text-lg font-semibold mb-4\">\n\t\t{{ __('Live Class') }}\n\t</div>\n\t<div v-if=\"liveClasses.data?.length\" class=\"grid grid-cols-2 gap-5\">\n\t\t<div v-for=\"cls in liveClasses.data\">\n\t\t\t<div class=\"border rounded-md p-3\">\n\t\t\t\t<div class=\"font-semibold text-lg mb-4\">\n\t\t\t\t\t{{ cls.title }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center mb-2\">\n\t\t\t\t\t<Calendar class=\"w-4 h-4 stroke-1.5\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ dayjs(cls.date).format('DD MMMM YYYY') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center mb-5\">\n\t\t\t\t\t<Clock class=\"w-4 h-4 stroke-1.5\" />\n\t\t\t\t\t<span class=\"ml-2\">\n\t\t\t\t\t\t{{ formatTime(cls.time) }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mb-5\">\n\t\t\t\t\t{{ cls.description }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center gap-2\">\n\t\t\t\t\t<a\n\t\t\t\t\t\t:href=\"cls.start_url\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\tclass=\"w-1/2 cursor-pointer inline-flex items-center justify-center gap-2 transition-colors focus:outline-none text-gray-800 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 focus-visible:ring focus-visible:ring-gray-400 h-7 text-base px-2 rounded\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Monitor class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t\t\t{{ __('Start') }}\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\t:href=\"cls.join_url\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\tclass=\"w-1/2 cursor-pointer inline-flex items-center justify-center gap-2 transition-colors focus:outline-none text-gray-800 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 focus-visible:ring focus-visible:ring-gray-400 h-7 text-base px-2 rounded\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Video class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t\t\t{{ __('Join') }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div v-else class=\"text-sm italic text-gray-600\">\n\t\t{{ __('No live classes scheduled') }}\n\t</div>\n\t<LiveClassModal\n\t\t:batch=\"props.batch\"\n\t\tv-model=\"showLiveClassModal\"\n\t\tv-model:reloadLiveClasses=\"liveClasses\"\n\t/>\n</template>\n<script setup>\nimport { createListResource, Button } from 'frappe-ui'\nimport { Plus, Clock, Calendar, Video, Monitor } from 'lucide-vue-next'\nimport { inject } from 'vue'\nimport LiveClassModal from '@/components/Modals/LiveClassModal.vue'\nimport { ref } from 'vue'\nimport { formatTime } from '@/utils/'\n\nconst user = inject('$user')\nconst showLiveClassModal = ref(false)\nconst dayjs = inject('$dayjs')\n\nconst props = defineProps({\n\tbatch: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst liveClasses = createListResource({\n\tdoctype: 'LMS Live Class',\n\tfilters: {\n\t\tbatch: props.batchName,\n\t\tdate: ['>=', new Date()],\n\t},\n\tfields: [\n\t\t'title',\n\t\t'description',\n\t\t'time',\n\t\t'date',\n\t\t'start_url',\n\t\t'join_url',\n\t\t'owner',\n\t],\n\torderBy: 'date',\n\tauto: true,\n})\n\nconst openLiveClassModal = () => {\n\tshowLiveClassModal.value = true\n}\n</script>\n","<template>\n\t<Dialog\n\t\tv-model=\"show\"\n\t\t:options=\"{\n\t\t\ttitle: __('Add a Student'),\n\t\t\tsize: 'xl',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Submit',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: (close) => addStudent(close),\n\t\t\t\t},\n\t\t\t],\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div class=\"flex flex-col gap-4\">\n\t\t\t\t<Link\n\t\t\t\t\tdoctype=\"User\"\n\t\t\t\t\tv-model=\"student\"\n\t\t\t\t\t:filters=\"{ ignore_user_type: 1 }\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup>\nimport { Dialog, createResource } from 'frappe-ui'\nimport { ref } from 'vue'\nimport Link from '@/components/Controls/Link.vue'\n\nconst students = defineModel('reloadStudents')\nconst student = ref()\nconst show = defineModel()\n\nconst props = defineProps({\n\tbatch: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n})\n\nconst studentResource = createResource({\n\turl: 'frappe.client.insert',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoc: {\n\t\t\t\tdoctype: 'Batch Student',\n\t\t\t\tparent: props.batch,\n\t\t\t\tparenttype: 'LMS Batch',\n\t\t\t\tparentfield: 'students',\n\t\t\t\tstudent: student.value,\n\t\t\t},\n\t\t}\n\t},\n})\n\nconst addStudent = (close) => {\n\tstudentResource.submit(\n\t\t{},\n\t\t{\n\t\t\tonSuccess() {\n\t\t\t\tstudents.value.reload()\n\t\t\t\tclose()\n\t\t\t\tstudent.value = null\n\t\t\t},\n\t\t}\n\t)\n}\n</script>\n","<template>\n\t<Button class=\"float-right mb-3\" variant=\"solid\" @click=\"openStudentModal()\">\n\t\t<template #prefix>\n\t\t\t<Plus class=\"h-4 w-4\" />\n\t\t</template>\n\t\t{{ __('Add Student') }}\n\t</Button>\n\t<div class=\"text-lg font-semibold mb-4\">\n\t\t{{ __('Students') }}\n\t</div>\n\t<div v-if=\"students.data?.length\">\n\t\t<ListView\n\t\t\t:columns=\"getStudentColumns()\"\n\t\t\t:rows=\"students.data\"\n\t\t\trow-key=\"name\"\n\t\t\t:options=\"{ showTooltip: false }\"\n\t\t>\n\t\t\t<ListHeader\n\t\t\t\tclass=\"mb-2 grid items-center space-x-4 rounded bg-gray-100 p-2\"\n\t\t\t>\n\t\t\t\t<ListHeaderItem :item=\"item\" v-for=\"item in getStudentColumns()\">\n\t\t\t\t\t<template #prefix=\"{ item }\">\n\t\t\t\t\t\t<component\n\t\t\t\t\t\t\tv-if=\"item.icon\"\n\t\t\t\t\t\t\t:is=\"item.icon\"\n\t\t\t\t\t\t\tclass=\"h-4 w-4 stroke-1.5 ml-4\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</template>\n\t\t\t\t</ListHeaderItem>\n\t\t\t</ListHeader>\n\t\t\t<ListRows>\n\t\t\t\t<ListRow :row=\"row\" v-for=\"row in students.data\">\n\t\t\t\t\t<template #default=\"{ column, item }\">\n\t\t\t\t\t\t<ListRowItem :item=\"row[column.key]\" :align=\"column.align\">\n\t\t\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t\t\t<div v-if=\"column.key == 'full_name'\">\n\t\t\t\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\t\t\t\tclass=\"flex items-center\"\n\t\t\t\t\t\t\t\t\t\t:image=\"row['user_image']\"\n\t\t\t\t\t\t\t\t\t\t:label=\"item\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{{ row[column.key] }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ListRowItem>\n\t\t\t\t\t</template>\n\t\t\t\t</ListRow>\n\t\t\t</ListRows>\n\t\t\t<ListSelectBanner>\n\t\t\t\t<template #actions=\"{ unselectAll, selections }\">\n\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t<Button variant=\"ghost\" @click=\"removeStudents(selections)\">\n\t\t\t\t\t\t\t<Trash2 class=\"h-4 w-4 stroke-1.5\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\tlabel=\"Unselect all\"\n\t\t\t\t\t\t\t@click=\"unselectAll.toString()\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</ListSelectBanner>\n\t\t</ListView>\n\t</div>\n\t<StudentModal\n\t\t:batch=\"props.batch\"\n\t\tv-model=\"showStudentModal\"\n\t\tv-model:reloadStudents=\"students\"\n\t/>\n</template>\n<script setup>\nimport {\n\tcreateResource,\n\tListHeader,\n\tListHeaderItem,\n\tListSelectBanner,\n\tListRow,\n\tListRows,\n\tListView,\n\tListRowItem,\n\tAvatar,\n\tButton,\n} from 'frappe-ui'\nimport { Trash2, Plus } from 'lucide-vue-next'\nimport { ref } from 'vue'\nimport StudentModal from '@/components/Modals/StudentModal.vue'\n\nconst showStudentModal = ref(false)\n\nconst props = defineProps({\n\tbatch: {\n\t\ttype: String,\n\t\tdefault: null,\n\t},\n})\n\nconst students = createResource({\n\turl: 'lms.lms.utils.get_batch_students',\n\tcache: ['students', props.batch],\n\tparams: {\n\t\tbatch: props.batch,\n\t},\n\tauto: true,\n})\n\nconst getStudentColumns = () => {\n\treturn [\n\t\t{\n\t\t\tlabel: 'Full Name',\n\t\t\tkey: 'full_name',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Courses Done',\n\t\t\tkey: 'courses_completed',\n\t\t\talign: 'center',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Assessments Done',\n\t\t\tkey: 'assessments_completed',\n\t\t\talign: 'center',\n\t\t},\n\t\t{\n\t\t\tlabel: 'Last Active',\n\t\t\tkey: 'last_active',\n\t\t},\n\t]\n}\n\nconst openStudentModal = () => {\n\tshowStudentModal.value = true\n}\n\nconst removeStudent = createResource({\n\turl: 'frappe.client.delete',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\tdoctype: 'Batch Student',\n\t\t\tname: values.student,\n\t\t}\n\t},\n})\n\nconst removeStudents = (selections) => {\n\tselections.forEach(async (student) => {\n\t\tconsole.log(student)\n\t\tremoveStudent.submit({ student })\n\t\tawait setTimeout(1000)\n\t})\n}\n</script>\n","<template>\n\t<div v-if=\"communications.data?.length\">\n\t\t<div v-for=\"comm in communications.data\">\n\t\t\t<div class=\"mb-8\">\n\t\t\t\t<div class=\"flex items-center justify-between mb-2\">\n\t\t\t\t\t<div class=\"flex items-center\">\n\t\t\t\t\t\t<Avatar :label=\"comm.sender_full_name\" size=\"lg\" />\n\t\t\t\t\t\t<div class=\"ml-2\">\n\t\t\t\t\t\t\t{{ comm.sender_full_name }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"text-sm\">\n\t\t\t\t\t\t{{ timeAgo(comm.communication_date) }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div\n\t\t\t\t\tclass=\"prose prose-sm bg-gray-50 !min-w-full px-4 py-2 rounded-md\"\n\t\t\t\t\tv-html=\"comm.content\"\n\t\t\t\t></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div v-else class=\"text-sm italic text-gray-600\">\n\t\t{{ __('No announcements') }}\n\t</div>\n</template>\n<script setup>\nimport { createListResource, Avatar } from 'frappe-ui'\nimport { timeAgo } from '@/utils'\n\nconst props = defineProps({\n\tbatch: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst communications = createListResource({\n\tdoctype: 'Communication',\n\tfields: [\n\t\t'subject',\n\t\t'content',\n\t\t'recipients',\n\t\t'cc',\n\t\t'communication_date',\n\t\t'sender',\n\t\t'sender_full_name',\n\t],\n\tfilters: {\n\t\treference_doctype: 'LMS Batch',\n\t\treference_name: props.batch,\n\t},\n\torderBy: 'communication_date desc',\n\tauto: true,\n\tcache: ['batch', props.batch],\n})\n</script>\n<style>\n.prose-sm p {\n\tmargin: 0 0 0.5rem;\n}\n</style>\n","<template>\n\t<Dialog\n\t\tv-model=\"show\"\n\t\t:options=\"{\n\t\t\ttitle: __('Make an Announcement'),\n\t\t\tsize: 'xl',\n\t\t\tactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: 'Submit',\n\t\t\t\t\tvariant: 'solid',\n\t\t\t\t\tonClick: (close) => makeAnnouncement(close),\n\t\t\t\t},\n\t\t\t],\n\t\t}\"\n\t>\n\t\t<template #body-content>\n\t\t\t<div class=\"flex flex-col gap-4\">\n\t\t\t\t<div class=\"\">\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t{{ __('Subject') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Input type=\"text\" v-model=\"announcement.subject\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"\">\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t{{ __('Reply To') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<Input type=\"text\" v-model=\"announcement.replyTo\" />\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mb-4\">\n\t\t\t\t\t<div class=\"mb-1.5 text-sm text-gray-600\">\n\t\t\t\t\t\t{{ __('Announcement') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<TextEditor\n\t\t\t\t\t\t:bubbleMenu=\"true\"\n\t\t\t\t\t\t@change=\"(val) => (announcement.announcement = val)\"\n\t\t\t\t\t\teditorClass=\"prose-sm py-2 px-2 min-h-[200px] border-gray-300 hover:border-gray-400 rounded-md bg-gray-200\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</Dialog>\n</template>\n<script setup>\nimport { Dialog, Input, TextEditor, createResource } from 'frappe-ui'\nimport { reactive } from 'vue'\nimport { createToast } from '@/utils/'\n\nconst show = defineModel()\n\nconst props = defineProps({\n\tbatch: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n\tstudents: {\n\t\ttype: Array,\n\t\trequired: true,\n\t},\n})\n\nconst announcement = reactive({\n\tsubject: '',\n\treplyTo: '',\n\tannouncement: '',\n})\n\nconst announcementResource = createResource({\n\turl: 'frappe.core.doctype.communication.email.make',\n\tmakeParams(values) {\n\t\treturn {\n\t\t\trecipients: props.students.join(', '),\n\t\t\tcc: announcement.replyTo,\n\t\t\tsubject: announcement.subject,\n\t\t\tcontent: announcement.announcement,\n\t\t\tdoctype: 'LMS Batch',\n\t\t\tname: props.batch,\n\t\t\tsend_email: 1,\n\t\t}\n\t},\n})\n\nconst makeAnnouncement = (close) => {\n\tannouncementResource.submit(\n\t\t{},\n\t\t{\n\t\t\tvalidate() {\n\t\t\t\tif (!props.students.length) {\n\t\t\t\t\treturn 'No students in this batch'\n\t\t\t\t}\n\t\t\t\tif (!announcement.subject) {\n\t\t\t\t\treturn 'Subject is required'\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSuccess() {\n\t\t\t\tclose()\n\t\t\t\tcreateToast({\n\t\t\t\t\ttitle: 'Success',\n\t\t\t\t\ttext: 'Announcement has been sent successfully',\n\t\t\t\t\ticon: 'Check',\n\t\t\t\t\ticonClasses: 'bg-green-600 text-white rounded-md p-px',\n\t\t\t\t})\n\t\t\t},\n\t\t\tonError(err) {\n\t\t\t\tcreateToast({\n\t\t\t\t\ttitle: 'Error',\n\t\t\t\t\ttext: err.messages?.[0] || err,\n\t\t\t\t\ticon: 'x',\n\t\t\t\t\ticonClasses: 'bg-red-600 text-white rounded-md p-px',\n\t\t\t\t\tposition: 'top-center',\n\t\t\t\t\ttimeout: 10,\n\t\t\t\t})\n\t\t\t},\n\t\t}\n\t)\n}\n</script>\n","<template>\n\t<div v-if=\"user.data?.is_moderator || isStudent\" class=\"h-screen text-base\">\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-3 py-2.5 sm:px-5\"\n\t\t>\n\t\t\t<Breadcrumbs class=\"h-7\" :items=\"breadcrumbs\" />\n\t\t\t<Button v-if=\"user.data?.is_moderator\" @click=\"openAnnouncementModal()\">\n\t\t\t\t<span>\n\t\t\t\t\t{{ __('Make an Announcement') }}\n\t\t\t\t</span>\n\t\t\t\t<template #suffix>\n\t\t\t\t\t<SendIcon class=\"h-4 stroke-1.5\" />\n\t\t\t\t</template>\n\t\t\t</Button>\n\t\t</header>\n\t\t<div v-if=\"batch.data\" class=\"grid grid-cols-[70%,30%] h-full\">\n\t\t\t<div class=\"border-r-2\">\n\t\t\t\t<Tabs class=\"overflow-hidden\" v-model=\"tabIndex\" :tabs=\"tabs\">\n\t\t\t\t\t<template #tab=\"{ tab, selected }\" class=\"overflow-x-hidden\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"group -mb-px flex items-center gap-1 border-b border-transparent py-2.5 text-base text-gray-600 duration-300 ease-in-out hover:border-gray-400 hover:text-gray-900\"\n\t\t\t\t\t\t\t\t:class=\"{ 'text-gray-900': selected }\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<component\n\t\t\t\t\t\t\t\t\tv-if=\"tab.icon\"\n\t\t\t\t\t\t\t\t\t:is=\"tab.icon\"\n\t\t\t\t\t\t\t\t\tclass=\"h-4 stroke-1.5\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t{{ __(tab.label) }}\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tv-if=\"tab.count\"\n\t\t\t\t\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t\t\t\t\t'text-gray-900 border border-gray-900': selected,\n\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\t\ttheme=\"gray\"\n\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{{ tab.count }}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template #default=\"{ tab }\">\n\t\t\t\t\t\t<div class=\"pt-5 px-10 pb-10\">\n\t\t\t\t\t\t\t<div v-if=\"tab.label == 'Courses'\">\n\t\t\t\t\t\t\t\t<div class=\"text-xl font-semibold\">\n\t\t\t\t\t\t\t\t\t{{ __('Courses') }}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclass=\"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 gap-8 mt-5\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div v-for=\"course in courses.data\">\n\t\t\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\t\t\t:to=\"{\n\t\t\t\t\t\t\t\t\t\t\t\tname: 'CourseDetail',\n\t\t\t\t\t\t\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\t\t\t\t\t\t\tcourseName: course.name,\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t}\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<CourseCard :key=\"course.name\" :course=\"course\" />\n\t\t\t\t\t\t\t\t\t\t</router-link>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else-if=\"tab.label == 'Dashboard'\">\n\t\t\t\t\t\t\t\t<BatchDashboard :batch=\"batch\" :isStudent=\"isStudent\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else-if=\"tab.label == 'Live Class'\">\n\t\t\t\t\t\t\t\t<LiveClass :batch=\"batch.data.name\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else-if=\"tab.label == 'Students'\">\n\t\t\t\t\t\t\t\t<BatchStudents :batch=\"batch.data.name\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else-if=\"tab.label == 'Assessments'\">\n\t\t\t\t\t\t\t\t<Assessments :batch=\"batch.data.name\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else-if=\"tab.label == 'Announcements'\">\n\t\t\t\t\t\t\t\t<Announcements :batch=\"batch.data.name\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div v-else-if=\"tab.label == 'Discussions'\">\n\t\t\t\t\t\t\t\t<Discussions\n\t\t\t\t\t\t\t\t\tdoctype=\"LMS Batch\"\n\t\t\t\t\t\t\t\t\t:docname=\"batch.data.name\"\n\t\t\t\t\t\t\t\t\ttitle=\"Discussions\"\n\t\t\t\t\t\t\t\t\t:key=\"batch.data.name\"\n\t\t\t\t\t\t\t\t\t:singleThread=\"true\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</Tabs>\n\t\t\t</div>\n\t\t\t<div class=\"p-5\">\n\t\t\t\t<div class=\"text-2xl font-semibold mb-3\">\n\t\t\t\t\t{{ batch.data.title }}\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center mb-3\">\n\t\t\t\t\t<Calendar class=\"h-4 w-4 stroke-1.5 mr-2 text-gray-700\" />\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ dayjs(batch.data.start_date).format('DD MMMM YYYY') }} -\n\t\t\t\t\t\t{{ dayjs(batch.data.end_date).format('DD MMMM YYYY') }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"flex items-center mb-6\">\n\t\t\t\t\t<Clock class=\"h-4 w-4 stroke-1.5 mr-2 text-gray-700\" />\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{{ formatTime(batch.data.start_time) }} -\n\t\t\t\t\t\t{{ formatTime(batch.data.end_time) }}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div v-html=\"batch.data.description\"></div>\n\t\t\t</div>\n\t\t\t<AnnouncementModal\n\t\t\t\tv-model=\"showAnnouncementModal\"\n\t\t\t\t:batch=\"batch.data.name\"\n\t\t\t\t:students=\"batch.data.students\"\n\t\t\t/>\n\t\t</div>\n\t</div>\n\t<div v-else-if=\"!user.data?.name\" class=\"h-screen\">\n\t\t<div class=\"text-base border rounded-md w-1/3 mx-auto my-32\">\n\t\t\t<div class=\"border-b px-5 py-3 font-medium\">\n\t\t\t\t<span\n\t\t\t\t\tclass=\"inline-flex items-center before:bg-red-600 before:w-2 before:h-2 before:rounded-md before:mr-2\"\n\t\t\t\t></span>\n\t\t\t\t{{ __('Not Permitted') }}\n\t\t\t</div>\n\t\t\t<div class=\"px-5 py-3\">\n\t\t\t\t<div v-if=\"user.data\" class=\"mb-4 leading-6\">\n\t\t\t\t\t{{\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'You are not a member of this batch. Please checkout our upcoming batches.'\n\t\t\t\t\t\t)\n\t\t\t\t\t}}\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"mb-4 leading-6\">\n\t\t\t\t\t{{ __('Please login to access this page.') }}\n\t\t\t\t</div>\n\t\t\t\t<router-link\n\t\t\t\t\tv-if=\"user.data\"\n\t\t\t\t\t:to=\"{\n\t\t\t\t\t\tname: 'Batches',\n\t\t\t\t\t\tparams: {\n\t\t\t\t\t\t\tbatchName: batch.data?.name,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\"\n\t\t\t\t>\n\t\t\t\t\t<Button variant=\"solid\" class=\"w-full\">\n\t\t\t\t\t\t{{ __('Upcoming Batches') }}\n\t\t\t\t\t</Button>\n\t\t\t\t</router-link>\n\t\t\t\t<Button\n\t\t\t\t\tv-else\n\t\t\t\t\tvariant=\"solid\"\n\t\t\t\t\tclass=\"w-full\"\n\t\t\t\t\t@click=\"redirectToLogin()\"\n\t\t\t\t>\n\t\t\t\t\t{{ __('Login') }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { Breadcrumbs, Button, createResource, Tabs, Badge } from 'frappe-ui'\nimport { computed, inject, ref } from 'vue'\nimport {\n\tCalendar,\n\tClock,\n\tLayoutDashboard,\n\tBookOpen,\n\tLaptop,\n\tBookOpenCheck,\n\tContact2,\n\tMail,\n\tSendIcon,\n\tMessageCircle,\n} from 'lucide-vue-next'\nimport { formatTime } from '@/utils'\nimport CourseCard from '@/components/CourseCard.vue'\nimport BatchDashboard from '@/components/BatchDashboard.vue'\nimport LiveClass from '@/components/LiveClass.vue'\nimport BatchStudents from '@/components/BatchStudents.vue'\nimport Assessments from '@/components/Assessments.vue'\nimport Announcements from '@/components/Annoucements.vue'\nimport AnnouncementModal from '@/components/Modals/AnnouncementModal.vue'\nimport Discussions from '@/components/Discussions.vue'\n\nconst dayjs = inject('$dayjs')\nconst user = inject('$user')\nconst showAnnouncementModal = ref(false)\n\nconst props = defineProps({\n\tbatchName: {\n\t\ttype: String,\n\t\trequired: true,\n\t},\n})\n\nconst batch = createResource({\n\turl: 'lms.lms.utils.get_batch_details',\n\tcache: ['batch', props.batchName],\n\tparams: {\n\t\tbatch: props.batchName,\n\t},\n\tauto: true,\n})\n\nconst breadcrumbs = computed(() => {\n\tlet crumbs = [{ label: 'All Batches', route: { name: 'Batches' } }]\n\tif (!isStudent.value) {\n\t\tcrumbs.push({\n\t\t\tlabel: batch.data?.title,\n\t\t\troute: {\n\t\t\t\tname: 'BatchDetail',\n\t\t\t\tparams: {\n\t\t\t\t\tbatchName: batch.data?.name,\n\t\t\t\t},\n\t\t\t},\n\t\t})\n\t}\n\tcrumbs.push({\n\t\tlabel: batch?.data?.title,\n\t\troute: { name: 'Batch', params: { batchName: props.batchName } },\n\t})\n\treturn crumbs\n})\n\nconst isStudent = computed(() => {\n\treturn (\n\t\tuser?.data &&\n\t\tbatch.data?.students.length &&\n\t\tbatch.data?.students.includes(user.data.name)\n\t)\n})\n\nconst tabIndex = ref(0)\nconst tabs = computed(() => {\n\tlet batchTabs = []\n\tif (isStudent.value) {\n\t\tbatchTabs.push({\n\t\t\tlabel: 'Dashboard',\n\t\t\ticon: LayoutDashboard,\n\t\t})\n\t}\n\tif (user.data?.is_moderator) {\n\t\tbatchTabs.push({\n\t\t\tlabel: 'Students',\n\t\t\ticon: Contact2,\n\t\t})\n\t\tbatchTabs.push({\n\t\t\tlabel: 'Assessments',\n\t\t\ticon: BookOpenCheck,\n\t\t})\n\t}\n\tbatchTabs.push({\n\t\tlabel: 'Live Class',\n\t\ticon: Laptop,\n\t})\n\tbatchTabs.push({\n\t\tlabel: 'Courses',\n\t\ticon: BookOpen,\n\t})\n\tbatchTabs.push({\n\t\tlabel: 'Announcements',\n\t\ticon: Mail,\n\t})\n\tbatchTabs.push({\n\t\tlabel: 'Discussions',\n\t\ticon: MessageCircle,\n\t})\n\treturn batchTabs\n})\n\nconst courses = createResource({\n\turl: 'lms.lms.utils.get_batch_courses',\n\tparams: {\n\t\tbatch: props.batchName,\n\t},\n\tcache: ['batchCourses', props.batchName],\n\tauto: true,\n})\n\nconst redirectToLogin = () => {\n\twindow.location.href = `/login?redirect-to=/batches`\n}\n\nconst openAnnouncementModal = () => {\n\tshowAnnouncementModal.value = true\n}\n</script>\n"],"names":["Contact2","createLucideIcon","Info","Laptop","LayoutDashboard","Mail","MessageCircle","Monitor","Send","Trash2","UserRoundCog","Video","user","inject","dayjs","show","_useModel","evaluations","__props","props","evaluation","reactive","createEvaluation","createResource","values","__spreadValues","submitEvaluation","close","err","createToast","_a","getCourses","courses","course","slots","watch","date","saveSlot","slot","showEvalModal","ref","upcoming_evals","openEvalModal","assessments","getAssessmentColumns","columns","liveClasses","liveClass","getTimezoneOptions","getTimezones","timezone","getRecordingOptions","createLiveClass","submitLiveClass","valideTime","time","showLiveClassModal","createListResource","openLiveClassModal","students","student","studentResource","addStudent","showStudentModal","getStudentColumns","openStudentModal","removeStudent","removeStudents","selections","__async","communications","announcement","announcementResource","makeAnnouncement","showAnnouncementModal","batch","breadcrumbs","computed","crumbs","isStudent","_b","_c","tabIndex","tabs","batchTabs","BookOpenCheck","BookOpen","redirectToLogin","openAnnouncementModal"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10]}