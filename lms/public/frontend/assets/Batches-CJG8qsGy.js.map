{"version":3,"file":"Batches-CJG8qsGy.js","sources":["../../../../frontend/src/components/BatchCard.vue","../../../../frontend/src/pages/Batches.vue"],"sourcesContent":["<template>\n\t<div\n\t\tclass=\"flex flex-col border border-gray-200 rounded-md p-4 h-full\"\n\t\tstyle=\"min-height: 150px\"\n\t>\n\t\t<Badge\n\t\t\tv-if=\"batch.seat_count && batch.seats_left > 0\"\n\t\t\ttheme=\"green\"\n\t\t\tclass=\"self-start mb-2\"\n\t\t>\n\t\t\t{{ batch.seats_left }} {{ __('Seat Left') }}\n\t\t</Badge>\n\t\t<Badge\n\t\t\tv-else-if=\"batch.seat_count && batch.seats_left <= 0\"\n\t\t\ttheme=\"red\"\n\t\t\tclass=\"self-start mb-2\"\n\t\t>\n\t\t\t{{ __('Sold Out') }}\n\t\t</Badge>\n\t\t<div class=\"text-xl font-semibold mb-1\">\n\t\t\t{{ batch.title }}\n\t\t</div>\n\t\t<div class=\"short-introduction\">\n\t\t\t{{ batch.description }}\n\t\t</div>\n\t\t<div class=\"mt-auto\">\n\t\t\t<div v-if=\"batch.amount\" class=\"font-semibold text-lg mb-4\">\n\t\t\t\t{{ batch.price }}\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center mb-3\">\n\t\t\t\t<BookOpen class=\"h-4 w-4 stroke-1.5 mr-2 text-gray-700\" />\n\t\t\t\t<span> {{ batch.courses.length }} {{ __('Courses') }} </span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center mb-3\">\n\t\t\t\t<Calendar class=\"h-4 w-4 stroke-1.5 mr-2 text-gray-700\" />\n\t\t\t\t<span>\n\t\t\t\t\t{{ dayjs(batch.start_date).format('DD MMM YYYY') }} -\n\t\t\t\t\t{{ dayjs(batch.end_date).format('DD MMM YYYY') }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t\t<div class=\"flex items-center\">\n\t\t\t\t<Clock class=\"h-4 w-4 stroke-1.5 mr-2 text-gray-700\" />\n\t\t\t\t<span>\n\t\t\t\t\t{{ formatTime(batch.start_time) }} - {{ formatTime(batch.end_time) }}\n\t\t\t\t</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { Calendar, Clock, BookOpen } from 'lucide-vue-next'\nimport { inject } from 'vue'\nimport { Badge } from 'frappe-ui'\nimport { formatTime } from '../utils'\n\nconst dayjs = inject('$dayjs')\nconst props = defineProps({\n\tbatch: {\n\t\ttype: Object,\n\t\tdefault: null,\n\t},\n})\n</script>\n<style>\n.short-introduction {\n\tdisplay: -webkit-box;\n\t-webkit-line-clamp: 2;\n\t-webkit-box-orient: vertical;\n\ttext-overflow: ellipsis;\n\twidth: 100%;\n\toverflow: hidden;\n\tmargin: 0.25rem 0 1.25rem;\n\tline-height: 1.5;\n}\n</style>\n","<template>\n\t<div class=\"h-screen text-base\">\n\t\t<header\n\t\t\tclass=\"sticky top-0 z-10 flex items-center justify-between border-b bg-white px-3 py-2.5 sm:px-5\"\n\t\t>\n\t\t\t<Breadcrumbs\n\t\t\t\tclass=\"h-7\"\n\t\t\t\t:items=\"[{ label: __('All Batches'), route: { name: 'Batches' } }]\"\n\t\t\t/>\n\t\t\t<div class=\"flex\">\n\t\t\t\t<Button variant=\"solid\">\n\t\t\t\t\t<template #prefix>\n\t\t\t\t\t\t<Plus class=\"h-4 w-4\" />\n\t\t\t\t\t</template>\n\t\t\t\t\t{{ __('New Batch') }}\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</header>\n\t\t<div class=\"pb-5\">\n\t\t\t<Tabs v-model=\"tabIndex\" :tabs=\"tabs\" tablistClass=\"overflow-x-visible\">\n\t\t\t\t<template #tab=\"{ tab, selected }\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\tclass=\"group -mb-px flex items-center gap-2 border-b border-transparent py-2.5 text-base text-gray-600 duration-300 ease-in-out hover:border-gray-400 hover:text-gray-900\"\n\t\t\t\t\t\t\t:class=\"{ 'text-gray-900': selected }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<component v-if=\"tab.icon\" :is=\"tab.icon\" class=\"h-5\" />\n\t\t\t\t\t\t\t{{ __(tab.label) }}\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t:class=\"\n\t\t\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t\t\t\t\t? 'text-gray-800 border border-gray-800'\n\t\t\t\t\t\t\t\t\t\t: 'border border-gray-500'\n\t\t\t\t\t\t\t\t\"\n\t\t\t\t\t\t\t\tvariant=\"subtle\"\n\t\t\t\t\t\t\t\ttheme=\"gray\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ tab.count }}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t\t<template #default=\"{ tab }\">\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-if=\"tab.batches && tab.batches.value.length\"\n\t\t\t\t\t\tclass=\"grid grid-cols-1 sm:grid-cols-3 md:grid-cols-4 gap-5 mt-5 mx-5\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\tv-for=\"batch in tab.batches.value\"\n\t\t\t\t\t\t\t:to=\"{ name: 'BatchDetail', params: { batchName: batch.name } }\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<BatchCard :batch=\"batch\" />\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div\n\t\t\t\t\t\tv-else\n\t\t\t\t\t\tclass=\"grid flex-1 place-items-center text-xl font-medium text-gray-500\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"flex flex-col items-center justify-center mt-4\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t{{ __('No {0} batches found').format(tab.label.toLowerCase()) }}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</Tabs>\n\t\t</div>\n\t</div>\n</template>\n<script setup>\nimport { createResource, Breadcrumbs, Button, Tabs, Badge } from 'frappe-ui'\nimport { Plus } from 'lucide-vue-next'\nimport BatchCard from '@/components/BatchCard.vue'\nimport { inject, ref, computed } from 'vue'\n\nconst user = inject('$user')\nconst batches = createResource({\n\turl: 'lms.lms.utils.get_batches',\n\tcache: ['batches', user?.data?.email],\n\tauto: true,\n})\n\nconst tabIndex = ref(0)\nconst tabs = [\n\t{\n\t\tlabel: 'Upcoming',\n\t\tbatches: computed(() => batches.data?.upcoming || []),\n\t\tcount: computed(() => batches.data?.upcoming?.length),\n\t},\n]\n\nif (user.data?.is_moderator) {\n\ttabs.push({\n\t\tlabel: 'Archived',\n\t\tbatches: computed(() => batches.data?.archived),\n\t\tcount: computed(() => batches.data?.archived?.length),\n\t})\n\ttabs.push({\n\t\tlabel: 'Private',\n\t\tbatches: computed(() => batches.data?.private),\n\t\tcount: computed(() => batches.data?.private?.length),\n\t})\n}\nif (user.data) {\n\ttabs.push({\n\t\tlabel: 'Enrolled',\n\t\tbatches: computed(() => batches.data?.enrolled),\n\t\tcount: computed(() => batches.data?.enrolled?.length),\n\t})\n}\n</script>\n"],"names":["dayjs","inject","user","batches","createResource","_a","tabIndex","ref","tabs","computed","_b"],"mappings":"6uBAuDA,MAAMA,EAAQC,EAAO,QAAQ,i4CCqB7B,MAAMC,EAAOD,EAAO,OAAO,EACrBE,EAAUC,EAAe,CAC9B,IAAK,4BACL,MAAO,CAAC,WAAWC,EAAAH,GAAA,YAAAA,EAAM,OAAN,YAAAG,EAAY,KAAK,EACpC,KAAM,EACP,CAAC,EAEKC,EAAWC,EAAI,CAAC,EAChBC,EAAO,CACZ,CACC,MAAO,WACP,QAASC,EAAS,IAAM,OAAA,QAAAJ,EAAAF,EAAQ,OAAR,YAAAE,EAAc,WAAY,CAAA,EAAE,EACpD,MAAOI,EAAS,IAAM,SAAA,OAAAC,GAAAL,EAAAF,EAAQ,OAAR,YAAAE,EAAc,WAAd,YAAAK,EAAwB,OAAM,CACpD,CACF,EAEA,OAAIA,EAAAR,EAAK,OAAL,MAAAQ,EAAW,eACdF,EAAK,KAAK,CACT,MAAO,WACP,QAASC,EAAS,IAAA,OAAM,OAAAJ,EAAAF,EAAQ,OAAR,YAAAE,EAAc,SAAQ,EAC9C,MAAOI,EAAS,IAAM,SAAA,OAAAC,GAAAL,EAAAF,EAAQ,OAAR,YAAAE,EAAc,WAAd,YAAAK,EAAwB,OAAM,CACtD,CAAE,EACDF,EAAK,KAAK,CACT,MAAO,UACP,QAASC,EAAS,IAAA,OAAM,OAAAJ,EAAAF,EAAQ,OAAR,YAAAE,EAAc,QAAO,EAC7C,MAAOI,EAAS,IAAM,SAAA,OAAAC,GAAAL,EAAAF,EAAQ,OAAR,YAAAE,EAAc,UAAd,YAAAK,EAAuB,OAAM,CACrD,CAAE,GAEER,EAAK,MACRM,EAAK,KAAK,CACT,MAAO,WACP,QAASC,EAAS,IAAA,OAAM,OAAAJ,EAAAF,EAAQ,OAAR,YAAAE,EAAc,SAAQ,EAC9C,MAAOI,EAAS,IAAM,SAAA,OAAAC,GAAAL,EAAAF,EAAQ,OAAR,YAAAE,EAAc,WAAd,YAAAK,EAAwB,OAAM,CACtD,CAAE"}